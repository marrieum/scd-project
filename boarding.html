<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boarding Pass</title>
    <link rel="stylesheet" href="style.css">
</head>
<header>
    <nav>
        <ul>
            <li><a href="index.html">Homepage</a></li>
            <li><a href="login.html">Log-in OR Sign-up</a></li>
            <li><a href="book.html">Book a Flight</a></li>
            <li><a href="reschedulexcancel.html">Reschedule/Cancel</a></li>
            <li><a href="payment.html">Payment</a></li>
            <li><a href="about.html">About Us</a></li>
        </ul>
    </nav>
    <div class="logo">
        <img src="mj-airlines-logo.jpeg" alt="MJ Airlines Logo">
    </div>
</header>
<section id="boarding-pass">
    <div class="container">
        <h2>Your Boarding Pass</h2>
        <p id="flight-number"><strong>Flight Number:</strong></p>
        <p id="departure-time"><strong>Departure Time:</strong></p>
        <p id="seat-number"><strong>Seat Number:</strong></p>
        <p id="boarding-time"><strong>Boarding Time:</strong></p>
        <button type="button" onclick="printBoardingPass()">Print Boarding Pass</button>
    </div>
</section>

<script>
async function fetchFlightDetails(flightId) {
    try {
        const response = await fetch(`/api/flights/${flightId}`); // Adjust the endpoint as necessary
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        const flightDetails = await response.json();

        // Populate the boarding pass information with actual flight details
        document.getElementById("flight-number").textContent += flightDetails.flightNumber;
        document.getElementById("departure-time").textContent += flightDetails.departure; // Assuming 'departure' is the correct field
        document.getElementById("gate-number").textContent += flightDetails.gateNumber; // Ensure this field exists in your model
        document.getElementById("seat-number").textContent += flightDetails.seatNumber; // Ensure this field exists in your model
        document.getElementById("boarding-time").textContent += flightDetails.boardingTime; // Ensure this field exists in your model
    } catch (error) {
        console.error('Error fetching flight details:', error);
    }
}

// Call this function with the appropriate flight ID when you want to fetch the details



    function printBoardingPass() {
        // Print the entire boarding pass section
        window.print();
    }
</script>
</html>